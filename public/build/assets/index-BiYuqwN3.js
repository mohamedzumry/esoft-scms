import{r as h,j as e,L as u,$ as l}from"./app-BqgjSa7h.js";import{B as t}from"./button-f7xD2yd9.js";import{C as f,a as N,d as b,b as C,c as y}from"./card-F8WD3vKb.js";import{D as m,a as x,b as D,c as v,d as T,e as o}from"./dialog-ClbPdm2M.js";import{T as _,a as w,b as d,c}from"./tabs-B1_z_re0.js";import{A as E}from"./app-layout-DZa-I5H7.js";import L from"./create-event-form-xigT9v3p.js";import"./index-B4bWSZca.js";import"./index-BQDKezta.js";import"./index-r0Qgb-MZ.js";import"./index-y_G3aFvS.js";import"./index-CHCWTLiE.js";import"./index-lXOJ2YE7.js";import"./index-Cj_Yjniq.js";import"./app-logo-icon-DHy56tQj.js";import"./label-JH_K8sT2.js";import"./select-C9iFXshG.js";import"./index-DKhMY_BN.js";function O({upcomingEvents:s,pastEvents:a,categories:p,auth:r}){const[g,j]=h.useState("upcoming");return e.jsxs(E,{children:[e.jsx(u,{title:"Events"}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(m,{children:[e.jsx(x,{asChild:!0,children:r.user.role==="admin"||r.user.role==="it_staff"||r.user.role==="lecturer"?e.jsx(t,{size:"sm",className:"mb-4 w-fit",children:"Create Event"}):null}),e.jsx(L,{categories:p})]}),e.jsxs(_,{value:g,onValueChange:i=>j(i),children:[e.jsxs(w,{className:"mb-8 flex justify-center space-x-4",children:[e.jsx(d,{value:"upcoming",className:"px-4 py-2",children:"Upcoming Events"}),e.jsx(d,{value:"past",className:"px-4 py-2",children:"Past Events"})]}),e.jsx(c,{value:"upcoming",children:s.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(i=>e.jsx(n,{event:i,isCreator:r.user.id===i.created_by||r.user.role==="admin"||r.user.role==="it_staff"},i.id))}):e.jsx("p",{className:"text-center text-gray-500",children:"No upcoming events found."})}),e.jsx(c,{value:"past",children:a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(i=>e.jsx(n,{event:i,isCreator:r.user.id===i.created_by||r.user.role==="admin"||r.user.role==="it_staff"},i.id))}):e.jsx("p",{className:"text-center text-gray-500",children:"No past events found."})})]})]})]})}function n({event:s,isCreator:a}){return e.jsxs(m,{children:[e.jsx(x,{asChild:!0,children:e.jsxs(f,{className:"cursor-pointer overflow-hidden rounded-lg shadow-md transition-transform hover:scale-105",children:[e.jsx(N,{className:"relative",children:e.jsx("img",{src:s.event_image?`/storage/${s.event_image}`:"/no-image.jpg",alt:s.title,className:"h-48 w-full object-cover"})}),e.jsxs(b,{className:"p-4",children:[e.jsx(C,{className:"text-lg font-semibold",children:s.title}),e.jsx(y,{className:"mt-2 text-sm text-gray-500",children:new Date(s.date).toLocaleDateString()})]})]})}),e.jsxs(D,{className:"sm:max-w-[425px]",children:[e.jsxs(v,{children:[e.jsx(T,{children:s.title}),e.jsxs(o,{children:["Date: ",new Date(s.date).toLocaleDateString(),", Time: ",s.time]}),e.jsxs(o,{children:["Location: ",s.venue]})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[s.event_image&&e.jsx("img",{src:`/storage/${s.event_image}`,alt:s.title,className:"h-64 w-full rounded-md object-cover"}),s.registration_link!=null&&e.jsx(t,{className:"w-full",asChild:!0,children:e.jsx(l,{href:s.registration_link,target:"_blank",children:"Register Now"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description||"No description available."})]})]}),a&&e.jsxs("div",{className:"sticky bottom-0 flex justify-end gap-2 border-t bg-white py-4",children:[e.jsx(t,{variant:"outline",asChild:!0,children:e.jsx(l,{href:route("event.edit",{id:s.id}),children:"Edit"})}),e.jsx(t,{variant:"destructive",size:"sm",children:e.jsx(l,{href:route("events.destroy",s.id),method:"delete",children:"Delete"})})]})]})]})}export{O as default};
