import{r as j,m as _,j as e}from"./app-BqgjSa7h.js";import{b as f,c as y,d as C}from"./dialog-ClbPdm2M.js";import{L as s,I as n}from"./label-JH_K8sT2.js";import{B as N}from"./button-f7xD2yd9.js";import{S as F,a as S,b,c as D,d as E}from"./select-C9iFXshG.js";import"./index-B4bWSZca.js";import"./index-BQDKezta.js";import"./index-r0Qgb-MZ.js";import"./index-y_G3aFvS.js";import"./index-CHCWTLiE.js";import"./index-lXOJ2YE7.js";import"./index-Cj_Yjniq.js";import"./index-DKhMY_BN.js";function H({categories:u}){const[o,m]=j.useState(null),{data:r,setData:a,post:h,processing:x,errors:i,reset:g}=_({event_category_id:"",title:"",date:"",time:"",venue:"",target_audience:"",event_image:null,description:"",registration_link:""}),p=t=>{var d;const l=(d=t.target.files)==null?void 0:d[0];l&&(a("event_image",l),m(URL.createObjectURL(l)))},v=t=>{t.preventDefault();const l=new FormData;Object.keys(r).forEach(d=>{const c=d;c==="event_image"&&r[c],l.append(d,r[c])}),h(route("events.store"),{onSuccess:()=>{g(),m(null)}})};return e.jsxs(f,{className:"max-h-[80vh] overflow-y-auto sm:max-w-[425px]",children:[e.jsx(y,{children:e.jsx(C,{children:"Create Event"})}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(s,{htmlFor:"event_category_id",children:"Category"}),e.jsxs(F,{value:r.event_category_id,required:!0,onValueChange:t=>a("event_category_id",t),children:[e.jsx(S,{children:e.jsx(b,{placeholder:"Select a category"})}),e.jsx(D,{children:u.map(t=>e.jsx(E,{value:t.id.toString(),children:t.name},t.id))})]}),i.event_category_id&&e.jsx("span",{className:"text-red-500 text-sm",children:i.event_category_id})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"title",children:"Title"}),e.jsx(n,{id:"title",type:"text",value:r.title,onChange:t=>a("title",t.target.value),placeholder:"Event Title",required:!0}),i.title&&e.jsx("span",{className:"text-red-500 text-sm",children:i.title})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(s,{htmlFor:"date",children:"Date"}),e.jsx(n,{id:"date",type:"date",value:r.date,onChange:t=>a("date",t.target.value),required:!0}),i.date&&e.jsx("span",{className:"text-red-500 text-sm",children:i.date})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"time",children:"Time"}),e.jsx(n,{id:"time",type:"time",value:r.time,onChange:t=>a("time",t.target.value),required:!0}),i.time&&e.jsx("span",{className:"text-red-500 text-sm",children:i.time})]})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"venue",children:"Venue"}),e.jsx(n,{id:"venue",type:"text",value:r.venue,onChange:t=>a("venue",t.target.value),placeholder:"Event Venue",required:!0}),i.venue&&e.jsx("span",{className:"text-red-500 text-sm",children:i.venue})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"target_audience",children:"Target Audience"}),e.jsx(n,{id:"target_audience",type:"text",value:r.target_audience,onChange:t=>a("target_audience",t.target.value),placeholder:"Target Audience",required:!0}),i.target_audience&&e.jsx("span",{className:"text-red-500 text-sm",children:i.target_audience})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"event_image",children:"Event Image"}),e.jsx(n,{id:"event_image",type:"file",accept:"image/jpeg, image/png",onChange:p}),o&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:o,alt:"Preview",className:"h-32 rounded-md w-32 object-cover"})}),i.event_image&&e.jsx("span",{className:"text-red-500 text-sm",children:i.event_image})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:r.description,onChange:t=>a("description",t.target.value),placeholder:"Event Description",className:"border p-2 rounded-md w-full",rows:4,required:!0}),i.description&&e.jsx("span",{className:"text-red-500 text-sm",children:i.description})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"registration_link",children:"Registration Link"}),e.jsx(n,{id:"registration_link",type:"url",value:r.registration_link,onChange:t=>a("registration_link",t.target.value),placeholder:"Optional Registration Link"}),i.registration_link&&e.jsx("span",{className:"text-red-500 text-sm",children:i.registration_link})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(N,{type:"submit",disabled:x,children:x?"Creating...":"Create Event"})})]})]})}export{H as default};
