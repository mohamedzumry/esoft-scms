import{m as b,j as e}from"./app-BqgjSa7h.js";import{B as C}from"./button-f7xD2yd9.js";import{L as i,I as d}from"./label-JH_K8sT2.js";import{S as o,a as u,b as h,c as m,d as c}from"./select-C9iFXshG.js";import{T as S}from"./textarea-CYU-22HX.js";import"./index-y_G3aFvS.js";import"./index-BQDKezta.js";import"./index-lXOJ2YE7.js";import"./index-Cj_Yjniq.js";import"./index-r0Qgb-MZ.js";import"./index-DKhMY_BN.js";function V({resources:p,userRole:n}){const x=n==="student",j=n==="admin"||n==="it_staff",{data:s,setData:a,post:v,processing:l,errors:r,reset:_}=b({resource_id:"",start_date_time:"",end_date_time:"",purpose:"",description:"",course:"",batch:"",approval_status:"pending"}),g=t=>{t.preventDefault(),v(route("reservations.store"),{onSuccess:()=>_()})};return e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"resource_id",children:"Resource"}),e.jsxs(o,{onValueChange:t=>a("resource_id",t),value:s.resource_id,required:!0,children:[e.jsx(u,{children:e.jsx(h,{placeholder:"Select a resource"})}),e.jsx(m,{children:p.map(t=>e.jsx(c,{value:t.id.toString(),children:t.name},t.id))})]}),r.resource_id&&e.jsx("p",{className:"text-sm text-red-500",children:r.resource_id})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"start_date_time",children:"Start Date and Time"}),e.jsx(d,{id:"start_date_time",type:"datetime-local",value:s.start_date_time,onChange:t=>a("start_date_time",t.target.value),required:!0}),r.start_date_time&&e.jsx("p",{className:"text-sm text-red-500",children:r.start_date_time})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"end_date_time",children:"End Date and Time"}),e.jsx(d,{id:"end_date_time",type:"datetime-local",value:s.end_date_time,onChange:t=>a("end_date_time",t.target.value),required:!0}),r.end_date_time&&e.jsx("p",{className:"text-sm text-red-500",children:r.end_date_time})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"purpose",children:"Purpose"}),e.jsx(d,{id:"purpose",value:s.purpose,onChange:t=>a("purpose",t.target.value),required:!0}),r.purpose&&e.jsx("p",{className:"text-sm text-red-500",children:r.purpose})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(S,{id:"description",value:s.description,onChange:t=>a("description",t.target.value),required:!0}),r.description&&e.jsx("p",{className:"text-sm text-red-500",children:r.description})]}),x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"course",children:"Course"}),e.jsx(d,{id:"course",value:s.course,onChange:t=>a("course",t.target.value),required:!0}),r.course&&e.jsx("p",{className:"text-sm text-red-500",children:r.course})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"batch",children:"Batch"}),e.jsx(d,{id:"batch",value:s.batch,onChange:t=>a("batch",t.target.value),required:!0}),r.batch&&e.jsx("p",{className:"text-sm text-red-500",children:r.batch})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"course",children:"Course (optional)"}),e.jsx(d,{id:"course",value:s.course,onChange:t=>a("course",t.target.value)}),r.course&&e.jsx("p",{className:"text-sm text-red-500",children:r.course})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"batch",children:"Batch (optional)"}),e.jsx(d,{id:"batch",value:s.batch,onChange:t=>a("batch",t.target.value)}),r.batch&&e.jsx("p",{className:"text-sm text-red-500",children:r.batch})]})]}),j&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"approval_status",children:"Approval Status"}),e.jsxs(o,{onValueChange:t=>a("approval_status",t),value:s.approval_status,children:[e.jsx(u,{children:e.jsx(h,{placeholder:"Select a status"})}),e.jsxs(m,{children:[e.jsx(c,{value:"approved",children:"Approved"}),e.jsx(c,{value:"rejected",children:"Rejected"}),e.jsx(c,{value:"pending",children:"Pending"})]})]}),r.approval_status&&e.jsx("p",{className:"text-sm text-red-500",children:r.approval_status})]}),e.jsx(C,{type:"submit",disabled:l,children:l?"Creating...":"Create Reservation"})]})}export{V as default};
