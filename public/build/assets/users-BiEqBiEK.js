import{K as N,r as y,m as C,j as e,L as D,$ as T}from"./app-BqgjSa7h.js";import{B as c}from"./button-f7xD2yd9.js";import{D as L,b as R,c as q,d as w}from"./dialog-ClbPdm2M.js";import{L as o,I as x}from"./label-JH_K8sT2.js";import{T as A,a as I,b as p,c as r,d as S,e as t}from"./table-DvCt_Bpy.js";import{A as U}from"./app-layout-DZa-I5H7.js";import"./index-B4bWSZca.js";import"./index-BQDKezta.js";import"./index-r0Qgb-MZ.js";import"./index-y_G3aFvS.js";import"./index-CHCWTLiE.js";import"./index-lXOJ2YE7.js";import"./index-Cj_Yjniq.js";import"./app-logo-icon-DHy56tQj.js";function Q(){const{users:l,availableRoles:h}=N().props;l.last_page>1?l.links:l.links.filter(a=>a.label!=="&laquo;"&&a.label!=="&raquo;");const u=a=>a.split("_").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" "),[j,i]=y.useState(!1),{data:n,setData:d,post:b,processing:f,errors:s,reset:g}=C({name:"",email:"",password:"",role:"student"}),v=a=>{a.preventDefault(),b(route("user.register"),{onSuccess:()=>{i(!1),g()}})};return e.jsxs(U,{children:[e.jsx(D,{title:"Dashboard"}),e.jsxs("div",{className:"flex flex-1 flex-col h-full p-4 rounded-xl gap-4",children:[e.jsx(c,{size:"sm",onClick:()=>i(!0),className:"w-fit mb-4",children:"Add New User"}),e.jsxs(A,{children:[e.jsx(I,{children:e.jsxs(p,{children:[e.jsx(r,{children:"ID"}),e.jsx(r,{children:"Email"}),e.jsx(r,{children:"Role"}),e.jsx(r,{children:"Name"}),e.jsx(r,{children:"Display Name"})]})}),e.jsx(S,{children:l.data.map(a=>e.jsxs(p,{children:[e.jsx(t,{children:a.id}),e.jsx(t,{children:a.email}),e.jsx(t,{children:a.role}),e.jsx(t,{children:a.name}),e.jsx(t,{children:a.nick_name})]},a.id))})]}),e.jsx("div",{className:"flex gap-2 mt-4",children:l.links.filter(a=>a.url!==null).map(a=>e.jsx(T,{href:a.url??"#",className:`rounded border px-3 py-1 ${a.active?"bg-gray-200 text-black":""}`,dangerouslySetInnerHTML:{__html:a.label}},a.label))}),e.jsx(L,{open:j,onOpenChange:i,children:e.jsxs(R,{id:"cud","aria-describedby":"cud",children:[e.jsx(q,{children:e.jsx(w,{children:"Add New User"})}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Name"}),e.jsx(x,{required:!0,id:"name",type:"text",value:n.name,onChange:a=>d("name",a.target.value),autoComplete:"true"}),s.name&&e.jsx("span",{className:"text-red-500 text-sm",children:s.name})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(x,{required:!0,id:"email",type:"email",value:n.email,onChange:a=>d("email",a.target.value),autoComplete:"true"}),s.email&&e.jsx("span",{className:"text-red-500 text-sm",children:s.email})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"role",children:"Role"}),e.jsx("select",{required:!0,id:"role",value:n.role,onChange:a=>d("role",a.target.value),className:"border rounded w-full px-2 py-1",children:h.map(a=>e.jsx("option",{value:a,children:u(a)},a))}),s.role&&e.jsx("span",{className:"text-red-500 text-sm",children:s.role})]}),e.jsx(c,{type:"submit",disabled:f,children:"Create User"})]})]})})]})]})}export{Q as default};
